<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      canvas {
        border: 1px solid #000;
      }
    </style>
    <title>CAD Cloud Line</title>
  </head>

  <body>
    <canvas id="cloudLineCanvas" width="1000" height="1000"></canvas>

    <script>
      function drawTopWidthArc(_startX, _startY) {
        for (let i = 0; i < x_number + 1; i++) {
          ctx.moveTo(_startX + 3 * r, _startY);
          ctx.arc(_startX + 2 * r, _startY, r, 0, Math.PI, true);
          _startX += 2 * r;
        }
        return {
          x: _startX,
          y: _startY,
        };
      }
      function drawBottomWidthArc(_startX, _startY) {
        for (let i = 0; i < x_number + 1; i++) {
          ctx.moveTo(_startX + 3 * r, _startY);
          ctx.arc(_startX + 2 * r, _startY, r, 0, Math.PI, false);
          _startX -= 2 * r;
        }
        return {
          x: _startX,
          y: _startY,
        };
      }
      function drawRightHeightArc(_startX, _startY) {
        for (let i = 0; i < y_number + 1; i++) {
          ctx.moveTo(_startX, _startY + 3 * r);
          ctx.arc(_startX, _startY + 2 * r, r, 0.5 * Pi, -0.5 * Math.PI, true);
          _startY += 2 * r;
        }
        return {
          x: _startX,
          y: _startY,
        };
      }
      function drawLeftHeightArc(_startX, _startY) {
        for (let i = 0; i < y_number + 1; i++) {
          ctx.moveTo(_startX, _startY + 3 * r);
          ctx.arc(_startX, _startY + 2 * r, r, 0.5 * Pi, -0.5 * Math.PI, false);
          _startY -= 2 * r;
        }
        return {
          x: _startX,
          y: _startY,
        };
      }
      function renderCloud(startX, startY, r, x_number, y_number) {
        ctx.beginPath();
        ctx.arc(startX, startY, r, Pi / 2, 0, false);
        const { x, y } = drawTopWidthArc(startX, startY);
        ctx.arc(x, y, r, -Pi, 0.5 * Pi, false);
        const { x: x2, y: y2 } = drawRightHeightArc(x, y);
        // 右下角的
        ctx.arc(x2, y2, r, -0.5 * Pi, 1 * Pi, false);
        const { x: x3, y: y3 } = drawBottomWidthArc(x2 - 4 * r, y2);
        drawLeftHeightArc(x3 + 4 * r, y3 - 2 * r);
        ctx.stroke();
      }
      // 获取Canvas元素
      var canvas = document.getElementById("cloudLineCanvas");
      var ctx = canvas.getContext("2d");

      class cloud {
        Pi = Math.PI;
        constructor(ctx) {
          this.ctx = ctx;
          
      }
      drawTopWidthArc(_startX, _startY) {
        for (let i = 0; i < x_number + 1; i++) {
          ctx.moveTo(_startX + 3 * r, _startY);
          ctx.arc(_startX + 2 * r, _startY, r, 0, Math.PI, true);
          _startX += 2 * r;
        }
        return {
          x: _startX,
          y: _startY,
        };
      }
      drawBottomWidthArc(_startX, _startY) {
        for (let i = 0; i < x_number + 1; i++) {
          ctx.moveTo(_startX + 3 * r, _startY);
          ctx.arc(_startX + 2 * r, _startY, r, 0, Math.PI, false);
          _startX -= 2 * r;
        }
        return {
          x: _startX,
          y: _startY,
        };
      }
      drawLeftHeightArc(_startX, _startY) {
        for (let i = 0; i < y_number + 1; i++) {
          ctx.moveTo(_startX, _startY + 3 * r);
          ctx.arc(_startX, _startY + 2 * r, r, 0.5 * Pi, -0.5 * Math.PI, false);
          _startY -= 2 * r;
        }
        return {
          x: _startX,
          y: _startY,
        };
      }
      drawRightHeightArc(_startX, _startY) {
        for (let i = 0; i < y_number + 1; i++) {
          ctx.moveTo(_startX, _startY + 3 * r);
          ctx.arc(_startX, _startY + 2 * r, r, 0.5 * Pi, -0.5 * Math.PI, true);
          _startY += 2 * r;
        }
        return {
          x: _startX,
          y: _startY,
        };
      }
      renderCloud(startX, startY, r, x_number, y_number) {
        this.ctx.beginPath();
        ctx.arc(startX, startY, r, Pi / 2, 0, false);
        const { x, y } = this.drawTopWidthArc(startX, startY);
        ctx.arc(x, y, r, -Pi, 0.5 * Pi, false);
        const { x: x2, y: y2 } = this.drawRightHeightArc(x, y);
        // 右下角的
        ctx.arc(x2, y2, r, -0.5 * Pi, 1 * Pi, false);
        const { x: x3, y: y3 } = drawBottomWidthArc(x2 - 4 * r, y2);
        drawLeftHeightArc(x3 + 4 * r, y3 - 2 * r);
        ctx.stroke();
      }
      draw() {
        renderCloud(this.startX, this.startY, this.r, this.x_number, this.y_number)
      }

      
    }
      // ctx.moveTo(50, 50);
      const r = 10;
      startX = 20;
      startY = 20;
      const x_number = 1;
      const y_number = 1;
      const Pi = Math.PI;
      

      renderCloud(startX, startY, r, x_number, y_number);
    </script>
  </body>
</html>
